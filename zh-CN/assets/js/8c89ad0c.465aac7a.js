"use strict";(self.webpackChunknh_docs=self.webpackChunknh_docs||[]).push([[3182],{3905:function(e,n,t){t.d(n,{Zo:function(){return p},kt:function(){return u}});var a=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=a.createContext({}),c=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=c(e.components);return a.createElement(s.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(t),u=i,h=d["".concat(s,".").concat(u)]||d[u]||m[u]||o;return t?a.createElement(h,r(r({ref:n},p),{},{components:t})):a.createElement(h,r({ref:n},p))}));function u(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,r=new Array(o);r[0]=d;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var c=2;c<o;c++)r[c]=t[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},13919:function(e,n,t){function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!a(e)}t.d(n,{b:function(){return a},Z:function(){return i}})},44996:function(e,n,t){t.d(n,{C:function(){return o},Z:function(){return r}});var a=t(52263),i=t(13919);function o(){var e=(0,a.Z)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,o=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,a){var o=void 0===a?{}:a,r=o.forcePrependBaseUrl,l=void 0!==r&&r,s=o.absolute,c=void 0!==s&&s;if(!t)return t;if(t.startsWith("#"))return t;if((0,i.b)(t))return t;if(l)return n+t;var p=t.startsWith(n)?t:n+t.replace(/^\//,"");return c?e+p:p}(o,t,e,n)}}}function r(e,n){return void 0===n&&(n={}),(0,o().withBaseUrl)(e,n)}},58215:function(e,n,t){var a=t(67294);n.Z=function(e){var n=e.children,t=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",hidden:t,className:i},n)}},41395:function(e,n,t){t.d(n,{Z:function(){return p}});var a=t(67294),i=t(80944),o=t(86010),r="tabItem_1uMI",l="tabItemActive_2DSg";var s=37,c=39;var p=function(e){var n=e.lazy,t=e.block,p=e.defaultValue,m=e.values,d=e.groupId,u=e.className,h=(0,i.Z)(),f=h.tabGroupChoices,g=h.setTabGroupChoices,k=(0,a.useState)(p),v=k[0],N=k[1],y=a.Children.toArray(e.children),b=[];if(null!=d){var w=f[d];null!=w&&w!==v&&m.some((function(e){return e.value===w}))&&N(w)}var C=function(e){var n=e.currentTarget,t=b.indexOf(n),a=m[t].value;N(a),null!=d&&(g(d,a),setTimeout((function(){var e,t,a,i,o,r,s,c;(e=n.getBoundingClientRect(),t=e.top,a=e.left,i=e.bottom,o=e.right,r=window,s=r.innerHeight,c=r.innerWidth,t>=0&&o<=c&&i<=s&&a>=0)||(n.scrollIntoView({block:"center",behavior:"smooth"}),n.classList.add(l),setTimeout((function(){return n.classList.remove(l)}),2e3))}),150))},z=function(e){var n,t;switch(e.keyCode){case c:var a=b.indexOf(e.target)+1;t=b[a]||b[0];break;case s:var i=b.indexOf(e.target)-1;t=b[i]||b[b.length-1]}null==(n=t)||n.focus()};return a.createElement("div",{className:"tabs-container"},a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},u)},m.map((function(e){var n=e.value,t=e.label;return a.createElement("li",{role:"tab",tabIndex:v===n?0:-1,"aria-selected":v===n,className:(0,o.Z)("tabs__item",r,{"tabs__item--active":v===n}),key:n,ref:function(e){return b.push(e)},onKeyDown:z,onFocus:C,onClick:C},t)}))),n?(0,a.cloneElement)(y.filter((function(e){return e.props.value===v}))[0],{className:"margin-vert--md"}):a.createElement("div",{className:"margin-vert--md"},y.map((function(e,n){return(0,a.cloneElement)(e,{key:n,hidden:e.props.value!==v})}))))}},79443:function(e,n,t){var a=(0,t(67294).createContext)(void 0);n.Z=a},80944:function(e,n,t){var a=t(67294),i=t(79443);n.Z=function(){var e=(0,a.useContext)(i.Z);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},23252:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return d}});var a=t(22122),i=t(19756),o=(t(67294),t(3905)),r=(t(41395),t(58215),t(44996)),l=["components"],s={title:"Quick Start"},c={unversionedId:"config/config-deployment-quickstart",id:"config/config-deployment-quickstart",isDocsHomePage:!1,title:"Quick Start",description:"Overview / \u90e8\u7f72\u914d\u7f6e / \u5feb\u901f\u5f00\u59cb",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/config/config-deployment-quickstart.md",sourceDirName:"config",slug:"/config/config-deployment-quickstart",permalink:"/zh-CN/docs/config/config-deployment-quickstart",editUrl:"https://crowdin.com/project/nocalhost/zh-CN",version:"current",frontMatter:{title:"Quick Start"},sidebar:"docs",previous:{title:"\u90e8\u7f72\u914d\u7f6e",permalink:"/zh-CN/docs/config/config-deployment-en"},next:{title:"\u89c4\u683c",permalink:"/zh-CN/docs/config/config-deployment-spec"}},p=[{value:"\u90e8\u7f72\u914d\u7f6e\u7684\u7ed3\u6784",id:"\u90e8\u7f72\u914d\u7f6e\u7684\u7ed3\u6784",children:[]},{value:"\u90e8\u7f72\u914d\u7f6e\u7684 Quick start",id:"\u90e8\u7f72\u914d\u7f6e\u7684-quick-start",children:[{value:"RawManifest \u6700\u5c0f\u5316\u914d\u7f6e",id:"rawmanifest-\u6700\u5c0f\u5316\u914d\u7f6e",children:[]},{value:"Kustomize Minimized Configuration",id:"kustomize-minimized-configuration",children:[]},{value:"Helm Minimized Configuration",id:"helm-minimized-configuration",children:[]}]},{value:"Pre-Configure Dev Config in Deploy Config",id:"pre-configure-dev-config-in-deploy-config",children:[{value:"Example",id:"example",children:[]}]}],m={toc:p};function d(e){var n=e.components,t=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/zh-CN/docs/config/config-en"},"Overview")," / ",(0,o.kt)("a",{parentName:"p",href:"/zh-CN/docs/config/config-deployment-en"},"\u90e8\u7f72\u914d\u7f6e")," / ",(0,o.kt)("a",{parentName:"p",href:"/zh-CN/docs/config/config-deployment-quickstart"},"\u5feb\u901f\u5f00\u59cb")),(0,o.kt)("br",null),(0,o.kt)("h1",{id:"deploy-config--nocalhost-basic-deployment-configuration"},"Deploy Config \u2014\u2014\u2014 Nocalhost Basic Deployment Configuration"),(0,o.kt)("p",null,"\u60a8\u53ef\u4ee5\u901a\u8fc7 Nocalhost IDE \u63d2\u4ef6\u914d\u7f6e\u9002\u5f53\u7684\u90e8\u7f72\u65b9\u5f0f\u6765\u90e8\u7f72\u4f60\u7684 K8s \u5e94\u7528\u7a0b\u5e8f\u3002 Nocalhost \u652f\u6301\u4ee5\u4e0b\u7c7b\u578b\u7684\u5e94\u7528\u7a0b\u5e8f\u90e8\u7f72\uff1a"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"RawManifest"),(0,o.kt)("li",{parentName:"ul"},"Helm"),(0,o.kt)("li",{parentName:"ul"},"Kustomize")),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"\u90e8\u7f72\u914d\u7f6e\u7684\u7ed3\u6784"},"\u90e8\u7f72\u914d\u7f6e\u7684\u7ed3\u6784"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/zh-CN/docs/config/config-overview-en"}," \u5f00\u53d1\u914d\u7f6e "),"\u662f\u90e8\u7f72\u914d\u7f6e\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u5c31\u662f\u90e8\u7f72\u914d\u7f6e\u5305\u542b\u4e86\u5f00\u53d1\u914d\u7f6e\u3002 \u90e8\u7f72\u914d\u7f6e\u6700\u7b80\u5355\u7684\u7ed3\u6784\u5982\u4e0b\uff1a"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: ""\n  manifestType: ""\n  resourcePath: []\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"application")," \u4e0b\u5206\u522b\u9700\u8981\u58f0\u660e\u5e94\u7528\u540d\u79f0 name\u3001\u5e94\u7528\u7c7b\u578b manifestType \u548c\u8d44\u6e90\u8def\u5f84\u6570\u7ec4\u3002"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u5e94\u7528\u540d\u79f0\u5c06\u4f1a\u5728\u5e94\u7528\u5b89\u88c5\u540e\u72ec\u7279\u5c55\u793a\u5728 Nocalhost \u63d2\u4ef6\u4e2d\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u7c7b\u578b\u662f Helm\uff0c\u90a3\u4e48\u5e94\u7528\u540d\u79f0\u6307\u7684\u662f  ",(0,o.kt)("inlineCode",{parentName:"li"},"Rlease.Name"),"\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u5e94\u7528\u901a\u5e38\u5206\u4e3a\u4e09\u7c7b\uff1aRawManifest\u3001Helm \u548c Kustomize\u3002 \u4e0d\u540c\u7c7b\u578b\u7684\u90e8\u7f72\u65b9\u6cd5\u4e0d\u540c\uff0c\u6240\u4ee5\u9700\u8981\u663e\u5f0f\u8fdb\u884c\u5e94\u7528\u7c7b\u578b\u7684\u58f0\u660e\u3002"),(0,o.kt)("li",{parentName:"ul"},"\u6700\u540e\u662f\u8d44\u6e90\u6240\u5728\u76f8\u5bf9\u8def\u5f84\uff0c\u5305\u542b\u5c06\u8981\u90e8\u7f72\u7684\u6240\u6709\u8d44\u6e90\u7684\u8def\u5f84\u3002")),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"Deployment configuration is usually declared through ",(0,o.kt)("inlineCode",{parentName:"h5"},"config.yaml"))),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"\u90e8\u7f72\u914d\u7f6e\u7684\u547d\u540d\u4e00\u822c\u662f ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml"),", \u5b83\u4e5f\u662f\u9ed8\u8ba4\u7684\u547d\u540d\uff0c\u4f46\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6\u547d\u540d\u3002"),(0,o.kt)("p",{parentName:"div"},(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml")," \u5fc5\u987b\u653e\u7f6e\u5728 ",(0,o.kt)("inlineCode",{parentName:"p"},".nocalhost")," \u7684\u6839\u76ee\u5f55\u4e2d\u3002"),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-dotenv"},"\u251c\u2500\u2500 .nocalhost\n\u2502\xa0\xa0 \u2514\u2500\u2500 config.yaml\n\u2514\u2500\u2500 YourManifests\n...\n")))),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"\u90e8\u7f72\u914d\u7f6e\u7684-quick-start"},"\u90e8\u7f72\u914d\u7f6e\u7684 Quick start"),(0,o.kt)("p",null,"\u6211\u4eec\u5728\u8fd9\u91cc\u4f7f\u7528 ",(0,o.kt)("inlineCode",{parentName:"p"},"bookinfo")," \u4f5c\u4e3a\u793a\u4f8b\u6765\u4ecb\u7ecd Nocalhost \u7684\u90e8\u7f72\u914d\u7f6e\u3002"),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"rawmanifest-\u6700\u5c0f\u5316\u914d\u7f6e"},"RawManifest \u6700\u5c0f\u5316\u914d\u7f6e"),(0,o.kt)("p",null,"The following is an actual Nocalhost Deploy Config, indicating that this is a RawManifest application, resourcePath contains all resource paths, when deployed, they will be applied to the api server through ",(0,o.kt)("inlineCode",{parentName:"p"},"kubectl apply"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: bookinfo\n  manifestType: rawManifestGit\n  resourcePath: [ "manifest/templates" ]\n')),(0,o.kt)("p",null,"The directories are as follows, ",(0,o.kt)("inlineCode",{parentName:"p"},".nocalhost")," folder is created in the root directory, and ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml")," file is under the folder."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"\u251c\u2500\u2500 .nocalhost\n\u2502\xa0\xa0 \u2514\u2500\u2500 config.yaml\n\u2514\u2500\u2500 manifest\n    \u2514\u2500\u2500 templates\n        \u251c\u2500\u2500 authors.yaml\n        \u251c\u2500\u2500 bookinfo\n        \u2502\xa0\xa0 \u2514\u2500\u2500 dep-job.yaml\n        \u251c\u2500\u2500 detail.yaml\n        \u251c\u2500\u2500 pre-install\n        \u2502\xa0\xa0 \u251c\u2500\u2500 print-num-job-01.yaml\n        \u2502\xa0\xa0 \u2514\u2500\u2500 print-num-job-02.yaml\n        \u251c\u2500\u2500 pre-install-cm.yaml\n        \u251c\u2500\u2500 productpage\n        \u2502\xa0\xa0 \u2514\u2500\u2500 productpage.yaml\n        \u251c\u2500\u2500 ratings.yaml\n        \u2514\u2500\u2500 reviews.yaml\n")),(0,o.kt)("span",{id:"deploy"}),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u8fdb\u884c\u4f53\u9a8c")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/nocalhost/bookinfo && git checkout manifest/config/example\n")))),(0,o.kt)("br",null),(0,o.kt)("h4",{id:"\u4f7f\u7528-nocalhost-\u63d2\u4ef6\u6765\u8fdb\u884c\u5e94\u7528\u90e8\u7f72"},"\u4f7f\u7528 Nocalhost \u63d2\u4ef6\u6765\u8fdb\u884c\u5e94\u7528\u90e8\u7f72"),(0,o.kt)("p",null,"\u60a8\u53ef\u4ee5\u5728 Nocalhost \u63d2\u4ef6\u4e0a\u53f3\u952e\u70b9\u51fb\u4efb\u610f ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace")," \uff0c\u7136\u540e\u70b9\u51fb ",(0,o.kt)("inlineCode",{parentName:"p"},"Deploy Application ")," \u5e76\u9009\u62e9 ",(0,o.kt)("inlineCode",{parentName:"p"},"clone from git"),"\u3002 \u8f93\u5165 ",(0,o.kt)("inlineCode",{parentName:"p"},"https://github.com/nocalhost/bookinfo")," \u5230 Git URL \u5217\u548c ",(0,o.kt)("inlineCode",{parentName:"p"},"manifest/config/example")," \u5230\u5206\u652f\u5217\u3002"),(0,o.kt)("figure",{className:"img-frame"},(0,o.kt)("img",{className:"gif-img",src:(0,r.Z)("/img/config/deploy-config-install-manifest.png")})),(0,o.kt)("br",null),(0,o.kt)("p",null,"Nocalhost \u5c06\u5728\u70b9\u51fb\u786e\u5b9a\u540e\u90e8\u7f72\u6b64 RawManifest \u5e94\u7528\u7a0b\u5e8f\u3002 \u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u5728  ",(0,o.kt)("inlineCode",{parentName:"p"},"namespace")," \u4e0b\u770b\u5230\u90e8\u7f72\u597d\u7684 ",(0,o.kt)("inlineCode",{parentName:"p"},"bookinfo"),"\u3002"),(0,o.kt)("figure",{className:"img-frame"},(0,o.kt)("img",{className:"gif-img",src:(0,r.Z)("/img/config/deploy-config-install-manifest-success.png")})),(0,o.kt)("br",null),(0,o.kt)("h4",{id:"\u81ea\u5b9a\u4e49\u8d44\u6e90\u8def\u5f84\u548c\u5ffd\u7565\u8def\u5f84"},"\u81ea\u5b9a\u4e49\u8d44\u6e90\u8def\u5f84\u548c\u5ffd\u7565\u8def\u5f84"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ResourcePath")," \u662f\u4e00\u4e2a\u7528\u4e8e\u6307\u5b9a\u8981\u90e8\u7f72\u7684 RawManifest \u6587\u4ef6\u5939\u7684\u6570\u7ec4\u3002 For example, for the above application, if you only want to apply ",(0,o.kt)("inlineCode",{parentName:"p"},"*job*.yaml"),", you can change the configuration as follows."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: bookinfo\n  manifestType: rawManifestGit\n  resourcePath: [ "manifest/templates/pre-install" ]\n')),(0,o.kt)("br",null),(0,o.kt)("p",null,"\u6b64\u5916\uff0c\u90e8\u7f72\u914d\u7f6e\u4e5f\u652f\u6301\u8bbe\u7f6e ",(0,o.kt)("inlineCode",{parentName:"p"},"\u5ffd\u7565\u8def\u5f84"),"\u3002 For example, for the above application, if you only want to apply all manifest without ",(0,o.kt)("inlineCode",{parentName:"p"},"*job*.yaml"),", you can change the configuration as follows."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: bookinfo\n  manifestType: rawManifestGit\n  resourcePath: [ "manifest/templates" ]\n  ignorePath: [ "manifest/templates/pre-install" ]\n')),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"kustomize-minimized-configuration"},"Kustomize Minimized Configuration"),(0,o.kt)("p",null,"Just like RawManifest, ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml")," for Kustomize type is as follows. It indicates that this is a Kustomize application named ",(0,o.kt)("inlineCode",{parentName:"p"},"bookinfo-kustomize")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"resourcePath")," is the directory corresponding to ",(0,o.kt)("inlineCode",{parentName:"p"},"kubectl apply -k"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'application:\n  name: bookinfo-kustomize\n  manifestType: kustomizeGit\n  resourcePath: ["kustomize/base"]\n')),(0,o.kt)("p",null,"\u8be5\u9879\u76ee\u7684\u76ee\u5f55\u7ed3\u6784\u5982\u4e0b\uff0c",(0,o.kt)("inlineCode",{parentName:"p"},"kustomize/base")," \u5bf9\u5e94\u5230 ",(0,o.kt)("inlineCode",{parentName:"p"},"kustomization.yaml")," \u6240\u5728\u7684\u76f8\u5bf9\u76ee\u5f55\uff1a"),(0,o.kt)("p",null,"Its directory structure is as follows, and ",(0,o.kt)("inlineCode",{parentName:"p"},"kustomize/base")," corresponds to the directory containing ",(0,o.kt)("inlineCode",{parentName:"p"},"kustomization.yaml"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"\u251c\u2500\u2500 .nocalhost\n\u2502\xa0\xa0 \u2514\u2500\u2500 config.yaml\n\u2514\u2500\u2500 kustomize\n    \u2514\u2500\u2500 base\n        \u251c\u2500\u2500 authors.yaml\n        \u251c\u2500\u2500 dep-job.yaml\n        \u251c\u2500\u2500 detail.yaml\n        \u251c\u2500\u2500 kustomization.yaml\n        \u251c\u2500\u2500 pre-install\n        \u2502\xa0\xa0 \u251c\u2500\u2500 print-num-job-01.yaml\n        \u2502\xa0\xa0 \u2514\u2500\u2500 print-num-job-02.yaml\n        \u251c\u2500\u2500 pre-install-cm.yaml\n        \u251c\u2500\u2500 productpage.yaml\n        \u251c\u2500\u2500 ratings.yaml\n        \u2514\u2500\u2500 reviews.yaml\n")),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Use the following commands to experience.")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/nocalhost/bookinfo && git checkout kustomize/config/example\n")))),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Deploy this application by Nocalhost plug-in")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You can follow the above instructions in ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#deploy"},"Deploy the application by Nocalhost plug-in"))," and enter ",(0,o.kt)("inlineCode",{parentName:"p"},"kustomize/config/example")," to the branch column."))),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"helm-minimized-configuration"},"Helm Minimized Configuration"),(0,o.kt)("p",null,"Like Kustomize,  ",(0,o.kt)("inlineCode",{parentName:"p"},"config.yaml")," for Helm type is as follows. It indicates that this is a Helm application named ",(0,o.kt)("inlineCode",{parentName:"p"},"bookinfo-helm")," and its ",(0,o.kt)("inlineCode",{parentName:"p"},"resourcePath")," is the directory corresponding to ",(0,o.kt)("inlineCode",{parentName:"p"},"helm install")," ."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},'application:\n  name: bookinfo-helm\n  manifestType: helmGit\n  resourcePath: ["charts/bookinfo"]\n')),(0,o.kt)("p",null,"Its directory structure is as follows, and ",(0,o.kt)("inlineCode",{parentName:"p"},"charts/bookinfo")," corresponds to the directory containing ",(0,o.kt)("inlineCode",{parentName:"p"},"Chart.yaml"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"\u251c\u2500\u2500 .nocalhost\n\u2502\xa0\xa0 \u2514\u2500\u2500 config.yaml\n\u2514\u2500\u2500 charts\n    \u2514\u2500\u2500 bookinfo\n        \u251c\u2500\u2500 Chart.yaml\n        \u251c\u2500\u2500 README.md\n        \u251c\u2500\u2500 templates\n        \u2502\xa0\xa0 \u251c\u2500\u2500 _helpers.tpl\n        \u2502\xa0\xa0 \u251c\u2500\u2500 dep-job.yaml\n        \u2502\xa0\xa0 \u251c\u2500\u2500 microservice-authors.yaml\n        \u2502\xa0\xa0 \u251c\u2500\u2500 microservice-details.yaml\n        \u2502\xa0\xa0 \u251c\u2500\u2500 microservice-productpage.yaml\n        \u2502\xa0\xa0 \u251c\u2500\u2500 microservice-ratings.yaml\n        \u2502\xa0\xa0 \u2514\u2500\u2500 microservice-reviews.yaml\n        \u251c\u2500\u2500 values.yaml\n        \u2514\u2500\u2500 values_example.yaml\n")),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Use the following commands to experience.")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/nocalhost/bookinfo && git checkout helm/config/example\n")))),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"Deploy this application by Nocalhost plug-in")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"You can follow the above instructions in ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"#deploy"},"Deploy the application by Nocalhost plug-in"))," and enter  ",(0,o.kt)("inlineCode",{parentName:"p"},"helm/config/example")," to the branch column."))),(0,o.kt)("br",null),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"pre-configure-dev-config-in-deploy-config"},"Pre-Configure Dev Config in Deploy Config"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Please note that we assume that you have already known Dev Config before reading this section."))),(0,o.kt)("p",null,"Dev Config can be embedded in Deploy Config. That brings a benefit that Nocalhost configuration would be contained in the application deployment process, which eliminates the repeated configuration work in the new environment. There is no conflict here, because it is equivalent to automatically associating Dev Config with the service after the application is deployed."),(0,o.kt)("br",null),(0,o.kt)("h3",{id:"example"},"Example"),(0,o.kt)("p",null,"The bookinfo application we used above has several workloads which are deployment type. Now, let us configure them as follows."),(0,o.kt)("p",null,"Apart from the above minimized configurations, we introduce an array named services, in which the elements are ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/zh-CN/docs/config/config-spec-en"},"Dev Config"))," ."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},'application:\n  name: bookinfo\n  manifestType: rawManifestGit\n  resourcePath: [ "manifest/templates" ]\n\n  services:\n    - name: productpage\n      serviceType: deployment\n      containers:\n        - name: productpage\n          dev:\n            gitUrl: https://e.coding.net/nocalhost/nocalhost/bookinfo-productpage.git\n            image: codingcorp-docker.pkg.coding.net/nocalhost/dev-images/python:3.7.7-slim-productpage-with-pydevd\n            shell: bash\n            workDir: /home/nocalhost-dev\n            command:\n              run:\n                - ./run.sh\n              debug:\n                - ./debug.sh\n            debug:\n              remoteDebugPort: 9009\n            sync: \n              type: send\n              filePattern: \n                - ./\n              ignoreFilePattern:\n                - ".git"\n                - ".github"\n                - ".idea"\n            portForward:\n            - 39080:9080\n            resources:\n              limits:\n                cpu: "1"\n                memory: 1Gi\n              requests:\n                cpu: "0.5"\n                memory: 512Mi\n\n    - name: details\n      serviceType: deployment\n      containers:\n        - dev:\n            gitUrl: https://e.coding.net/codingcorp/nocalhost/bookinfo-details.git\n            image: codingcorp-docker.pkg.coding.net/nocalhost/dev-images/ruby:2.7.1-slim\n            shell: bash\n            workDir: /home/nocalhost-dev\n            sync: \n              type: send\n              filePattern: \n                - ./\n              ignoreFilePattern:\n                - ".git"\n                - ".github"\n            env: \n            - name: DEBUG\n              value: "true"\n')),(0,o.kt)("br",null),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"Use the QuickStart sample to experience")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"/zh-CN/docs/guides/deploy/deploy-demo"},"demo application"))," embeds Dev Config in Deploy Config."),(0,o.kt)("p",{parentName:"div"},"After deploying demo application, just right-click a workload under this application, such as ",(0,o.kt)("inlineCode",{parentName:"p"},"Deployment / details"),". You will find that it has been configured with a series of development configurations in advance, so you can directly enter the Dev Mode based on them."))))}d.isMDXComponent=!0},86010:function(e,n,t){function a(e){var n,t,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(i&&(i+=" "),i+=t);else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function i(){for(var e,n,t=0,i="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(i&&(i+=" "),i+=n);return i}t.d(n,{Z:function(){return i}})}}]);